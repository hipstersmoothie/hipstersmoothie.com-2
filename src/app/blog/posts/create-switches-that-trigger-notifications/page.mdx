---
creationDate: 2021-06-27T14:57:19-07:00
---

<PostHeader slug="create-switches-that-trigger-notifications" />

The automation the HomeKit provides can solves many problems. But there is one huge hole in the system that is complicated to solve: notifications. If you want to create an automation that triggers a notification on your and your housemates devices there is no built in way to do that.

Searching the internet doesn't provide too many good solutions either:

- You could control a device (ex: a light) to use as a notification, but that sucks and could easily go unnoticed
- You could use a push notification service, but those cost money and only work if there is an app installed
- You could use [IFTTT](https://ifttt.com/home) to send your a notification, but this also requires their app and only works on one device
- You could cry, but this doesn't solve your problem either

## Homebridge Messenger

There happens to be a Homebridge plugin that solves this to some extent. [Homebridge Messenger](https://github.com/potrudeau/homebridge-messenger) enables you to use various delivery methods for notification (pushcut, email, IFTTT). It will create a switch in the home app that when enabled will send the message to whatever service you configure.

For my current use case I decided to go with IFTTT.

### Setting up IFTTT

In IFTTT I created a "webhook" trigger that describes the thing I'm creating a notification for

![](/blog/switch-trigger-1.png)

When that is triggered it will send a message to my house's [discord](https://discord.com) server that notifies the members of the event.

### Setting up the Plugin

In the plugin setting I created a switch. These message can take variables so that you can re-use the IFTTT for multiple switches

![](/blog/switch-trigger-2.png)

Once you restart Homebridge you should create a room called "Messages" where your store all of these message switches. This way you wont accidentally press them while navigating your other rooms.

And now you have switches that will send notification when activated :tada:

{/* For a real world use case check out [[Creating "Window Open" Notifications when AC is Running]]. */}

<BackLinks slug="create-switches-that-trigger-notifications" />
